all:
  hosts:
    localhost:
      ansible_connection: local
      ansible_python_interpreter: "{{ansible_playbook_python}}"

      # User-provided values
      os_subnet_range: '15.11.0.0/27'
      os_flavor_master: 'aci_rhel_huge'
      os_flavor_worker: 'aci_rhel_huge'
      os_image_rhcos: 'rhcos-4.4'
      os_subnet_range2: '16.11.0.0/24'
      # OpenShift API floating IP address
      dns_ip: '172.28.184.18'
      # OpenShift Ingress floating IP address
      # Service subnet cidr
      svc_subnet_range: '172.30.0.0/16'
      os_svc_network_range: '172.30.0.0/15'
      # Subnet pool prefixes
      cluster_network_cidrs: '15.128.0.0/16'
      # Subnet pool prefix length
      host_prefix: '23'
      # Name of the SDN.
      # Possible values are OpenshiftSDN or Kuryr.
      os_networking_type: 'CiscoACI'

      # Number of provisioned Control Plane nodes
      # 3 is the minimum number for a fully-functional cluster.
      os_cp_nodes_number: 3

      # Number of provisioned Compute nodes.
      # 3 is the minimum number for a fully-functional cluster.
      os_compute_nodes_number: 3

      # The IP addresses of DNS servers to be used for the DNS resolution of
      # all instances in the cluster. The total number of dns servers supported
      # by an instance is three. That total includes any dns server provided by
      # the underlying OpenStack infrastructure.
      #
      # Note that the values below are example IPs and do not point to actual
      # resolvers. To use the OpenStack defaults, remove the values below.
      os_external_dns:
      - 192.0.2.53
      - 192.0.2.153

      # The public network providing connectivity to the cluster. If not
      # provided, the cluster external connectivity must be provided in another
      # way.
      #
      # Required for os_api_fip, os_ingress_fip, os_bootstrap_fip.
      os_external_network: 'l3out-2'

      # OpenShift API floating IP address. If this value is non-empty, the
      # corresponding floating IP will be attached to the Control Plane to
      # serve the OpenShift API.
      os_api_fip: '60.60.60.6'

      # OpenShift Ingress floating IP address. If this value is non-empty, the
      # corresponding floating IP will be attached to the worker nodes to serve
      # the applications.
      os_ingress_fip: '60.60.60.8'

      # If this value is non-empty, the corresponding floating IP will be
      # attached to the bootstrap machine. This is needed for collecting logs
      # in case of install failure.
      os_bootstrap_fip: '60.60.60.4'

      # An IP address that will be assigned to the API VIP.
      # Be aware that the 10 and 11 of the machineNetwork will
      # be taken by neutron dhcp by default, and wont be available.
      os_apiVIP: "{{ os_subnet_range | next_nth_usable(5) }}"

      # An IP address that will be assigned to the ingress VIP.
      # Be aware that the 10 and 11 of the machineNetwork will
      # be taken by neutron dhcp by default, and wont be available.
      os_ingressVIP: "{{ os_subnet_range | next_nth_usable(7) }}"
      infra_vlan: 4093
      service_vlan: 2003
      acc_provision_tar: /fullpath/to/tar/file
      opflex_interface: ens4
      node_interface: ens3
      aci_containers_addr_scope: addr-scp-openshiftupi 
      aci_containers_l3out_vrf: uni/tn-common/ctx-sauto_l3out-1_vrf
      aci_containers_subnet_pool: subpool-openshiftupi
      aci_containers_prefix_length: 27
      aci_cni:
        # This section has ACI CNI specific configuration.
        # In case of optional configuration, the default
        # values are populated after running update_ign.py.
        # Those default values are mentioned here.
        acc_provision_tar: /path/aci_deployment.yaml1.tar.gz
        kubeconfig: /path/kubeconfig
        network_interfaces:
          node:
            name: ens3 # Optional
            mtu: 1500 # Optional
            bd: uni/tn-prj_<openstack-prj-id>/BD-aci-containers-<system-id>-node-bd # Derived
            vrf: uni/tn-<vrf-tenant>/ctx-<vrf-name> # Derived
          opflex:
            mtu: 1500 # Optional
            name: ens4 # Optional
            subnet: 192.168.208.0/20 # Optional
        cluster_snat_policy_ip: <IP> # Optional, no default value
        dns_ips: [<list of dns ip's>] # Optional, no default value
        # The following are derived from acc_provision_tar file
        # and populated after running the update_ign.py
        app_profile: aci-containers-<system-id> # Derived
        node_epg: aci-containers-nodes # Derived
        infra_vlan: 4093 # Derived
        service_vlan: 1033 # Derived
      os_apiVIP: "{{ os_subnet_range | next_nth_usable(5) }}"
      os_ingressVIP: "{{ os_subnet_range | next_nth_usable(7) }}"
